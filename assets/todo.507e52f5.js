import{e as N,f as T,m as P,i as G,g as tt,h as et,j as O,k as H,t as st,l as U,n as ot,p as nt,q as rt,s as ct,u as ut,v as at,c as I,a as j,x as it,y as lt,z as ft,F as dt,A as ht,B as K,o as R,C as yt}from"./vue.9686ebfa.js";var vt=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let q;const C=t=>q=t,z=Symbol();function D(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var E;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(E||(E={}));function It(){const t=N(!0),o=t.run(()=>T({}));let s=[],e=[];const n=P({install(c){C(n),n._a=c,c.provide(z,n),c.config.globalProperties.$pinia=n,e.forEach(a=>s.push(a)),e=[]},use(c){return!this._a&&!vt?e.push(c):s.push(c),this},_p:s,_a:null,_e:t,_s:new Map,state:o});return n}const J=()=>{};function M(t,o,s,e=J){t.push(o);const n=()=>{const c=t.indexOf(o);c>-1&&(t.splice(c,1),e())};return!s&&U()&&ot(n),n}function w(t,...o){t.slice().forEach(s=>{s(...o)})}function F(t,o){t instanceof Map&&o instanceof Map&&o.forEach((s,e)=>t.set(e,s)),t instanceof Set&&o instanceof Set&&o.forEach(t.add,t);for(const s in o){if(!o.hasOwnProperty(s))continue;const e=o[s],n=t[s];D(n)&&D(e)&&t.hasOwnProperty(s)&&!O(e)&&!H(e)?t[s]=F(n,e):t[s]=e}return t}const pt=Symbol();function bt(t){return!D(t)||!t.hasOwnProperty(pt)}const{assign:d}=Object;function _t(t){return!!(O(t)&&t.effect)}function mt(t,o,s,e){const{state:n,actions:c,getters:a}=o,i=s.state.value[t];let _;function h(){i||(s.state.value[t]=n?n():{});const y=rt(s.state.value[t]);return d(y,c,Object.keys(a||{}).reduce((v,p)=>(v[p]=P(ct(()=>{C(s);const m=s._s.get(t);return a[p].call(m,m)})),v),{}))}return _=W(t,h,o,s,e,!0),_.$reset=function(){const v=n?n():{};this.$patch(p=>{d(p,v)})},_}function W(t,o,s={},e,n,c){let a;const i=d({actions:{}},s),_={deep:!0};let h,y,v=P([]),p=P([]),m;const S=e.state.value[t];!c&&!S&&(e.state.value[t]={}),T({});let B;function V(u){let r;h=y=!1,typeof u=="function"?(u(e.state.value[t]),r={type:E.patchFunction,storeId:t,events:m}):(F(e.state.value[t],u),r={type:E.patchObject,payload:u,storeId:t,events:m});const b=B=Symbol();nt().then(()=>{B===b&&(h=!0)}),y=!0,w(v,r,e.state.value[t])}const $=J;function A(){a.stop(),v=[],p=[],e._s.delete(t)}function Q(u,r){return function(){C(e);const b=Array.from(arguments),x=[],k=[];function Y(l){x.push(l)}function Z(l){k.push(l)}w(p,{args:b,name:u,store:f,after:Y,onError:Z});let L;try{L=r.apply(this&&this.$id===t?this:f,b)}catch(l){throw w(k,l),l}return L instanceof Promise?L.then(l=>(w(x,l),l)).catch(l=>(w(k,l),Promise.reject(l))):(w(x,L),L)}}const X={_p:e,$id:t,$onAction:M.bind(null,p),$patch:V,$reset:$,$subscribe(u,r={}){const b=M(v,u,r.detached,()=>x()),x=a.run(()=>tt(()=>e.state.value[t],k=>{(r.flush==="sync"?y:h)&&u({storeId:t,type:E.direct,events:m},k)},d({},_,r)));return b},$dispose:A},f=et(d({},X));e._s.set(t,f);const g=e._e.run(()=>(a=N(),a.run(()=>o())));for(const u in g){const r=g[u];if(O(r)&&!_t(r)||H(r))c||(S&&bt(r)&&(O(r)?r.value=S[u]:F(r,S[u])),e.state.value[t][u]=r);else if(typeof r=="function"){const b=Q(u,r);g[u]=b,i.actions[u]=r}}return d(f,g),d(st(f),g),Object.defineProperty(f,"$state",{get:()=>e.state.value[t],set:u=>{V(r=>{d(r,u)})}}),e._p.forEach(u=>{d(f,a.run(()=>u({store:f,app:e._a,pinia:e,options:i})))}),S&&c&&s.hydrate&&s.hydrate(f.$state,S),h=!0,y=!0,f}function St(t,o,s){let e,n;const c=typeof o=="function";typeof t=="string"?(e=t,n=c?s:o):(n=t,e=t.id);function a(i,_){const h=U();return i=i||h&&G(z),i&&C(i),i=q,i._s.has(e)||(c?W(e,o,n,i):mt(e,n,i)),i._s.get(e)}return a.$id=e,a}const wt={TODO:"TODO"},gt={async getList(){return{total:1,records:[{key:"1",value:"keyword"}]}}};function xt(){return Math.random().toString(36).slice(2)}const kt=St(wt.TODO,{state:()=>({todoList:[]}),actions:{async fetchTodoList(){try{const{records:t}=await gt.getList();this.todoList=t}catch(t){console.log("error",t)}},addTodo(t){this.todoList.push({key:xt(),value:t})},delTodo(t){this.todoList=this.todoList.filter(o=>o.key!=t)}}}),Lt={class:"container mx-auto w-1/2 min-w-sm max-w-2xl shadow-xl"},jt={class:"mt-20"},Et=["onKeyup"],Pt={class:"m-1"},Ot=["onClick"],Rt=ut({__name:"index",setup(t){const o=kt(),s=T("");function e(n){!s.value||(o.addTodo(s.value),s.value="")}return at(()=>{o.fetchTodoList()}),(n,c)=>(R(),I("div",Lt,[j("div",jt,[it(j("input",{class:"h-40px w-full rounded-6px border border-gray-500 border-solid","onUpdate:modelValue":c[0]||(c[0]=a=>s.value=a),onKeyup:ft(e,["enter"]),placeholder:"enter to add"},null,40,Et),[[lt,s.value,void 0,{trim:!0}]])]),j("div",Pt,[(R(!0),I(dt,null,ht(K(o).todoList,a=>(R(),I("div",{class:"h-40px p-2px flex items-center justify-between shadow shadow-gray-500 cursor-pointer mt-6",key:a.key},[j("div",null,yt(a.value),1),j("div",{class:"w-20px h-20px text-red-900 text-center border border-red-700 border-solid rounded-full leading-4",onClick:i=>K(o).delTodo(a.key)}," - ",8,Ot)]))),128))])]))}});export{Rt as _,It as c};
