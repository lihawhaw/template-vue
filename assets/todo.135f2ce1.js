import{e as N,f as F,m as O,g as H,i as G,h as tt,j as et,k as E,l as U,t as st,n as ot,p as nt,q as rt,s as ct,u as ut,v as at,o as C,c as I,a as j,x as it,y as lt,z as ft,F as dt,A as ht,B as A,C as yt}from"./vue.e9ede0e9.js";var pt=!1;/*!
  * pinia v2.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let q;const T=t=>q=t,z=Symbol();function R(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var P;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(P||(P={}));function Ct(){const t=N(!0),o=t.run(()=>F({}));let s=[],e=[];const n=O({install(c){T(n),n._a=c,c.provide(z,n),c.config.globalProperties.$pinia=n,e.forEach(a=>s.push(a)),e=[]},use(c){return!this._a&&!pt?e.push(c):s.push(c),this},_p:s,_a:null,_e:t,_s:new Map,state:o});return n}const J=()=>{};function K(t,o,s,e=J){t.push(o);const n=()=>{const c=t.indexOf(o);c>-1&&(t.splice(c,1),e())};return!s&&H()&&ot(n),n}function S(t,...o){t.slice().forEach(s=>{s(...o)})}function D(t,o){for(const s in o){if(!o.hasOwnProperty(s))continue;const e=o[s],n=t[s];R(n)&&R(e)&&t.hasOwnProperty(s)&&!E(e)&&!U(e)?t[s]=D(n,e):t[s]=e}return t}const vt=Symbol();function bt(t){return!R(t)||!t.hasOwnProperty(vt)}const{assign:d}=Object;function _t(t){return!!(E(t)&&t.effect)}function mt(t,o,s,e){const{state:n,actions:c,getters:a}=o,i=s.state.value[t];let _;function h(){i||(s.state.value[t]=n?n():{});const y=rt(s.state.value[t]);return d(y,c,Object.keys(a||{}).reduce((p,v)=>(p[v]=O(ct(()=>{T(s);const m=s._s.get(t);return a[v].call(m,m)})),p),{}))}return _=M(t,h,o,s,e,!0),_.$reset=function(){const p=n?n():{};this.$patch(v=>{d(v,p)})},_}function M(t,o,s={},e,n,c){let a;const i=d({actions:{}},s),_={deep:!0};let h,y,p=O([]),v=O([]),m;const g=e.state.value[t];!c&&!g&&(e.state.value[t]={}),F({});let B;function V(u){let r;h=y=!1,typeof u=="function"?(u(e.state.value[t]),r={type:P.patchFunction,storeId:t,events:m}):(D(e.state.value[t],u),r={type:P.patchObject,payload:u,storeId:t,events:m});const b=B=Symbol();nt().then(()=>{B===b&&(h=!0)}),y=!0,S(p,r,e.state.value[t])}const W=J;function $(){a.stop(),p=[],v=[],e._s.delete(t)}function Q(u,r){return function(){T(e);const b=Array.from(arguments),x=[],k=[];function Y(l){x.push(l)}function Z(l){k.push(l)}S(v,{args:b,name:u,store:f,after:Y,onError:Z});let L;try{L=r.apply(this&&this.$id===t?this:f,b)}catch(l){throw S(k,l),l}return L instanceof Promise?L.then(l=>(S(x,l),l)).catch(l=>(S(k,l),Promise.reject(l))):(S(x,L),L)}}const X={_p:e,$id:t,$onAction:K.bind(null,v),$patch:V,$reset:W,$subscribe(u,r={}){const b=K(p,u,r.detached,()=>x()),x=a.run(()=>tt(()=>e.state.value[t],k=>{(r.flush==="sync"?y:h)&&u({storeId:t,type:P.direct,events:m},k)},d({},_,r)));return b},$dispose:$},f=et(d({},X));e._s.set(t,f);const w=e._e.run(()=>(a=N(),a.run(()=>o())));for(const u in w){const r=w[u];if(E(r)&&!_t(r)||U(r))c||(g&&bt(r)&&(E(r)?r.value=g[u]:D(r,g[u])),e.state.value[t][u]=r);else if(typeof r=="function"){const b=Q(u,r);w[u]=b,i.actions[u]=r}}return d(f,w),d(st(f),w),Object.defineProperty(f,"$state",{get:()=>e.state.value[t],set:u=>{V(r=>{d(r,u)})}}),e._p.forEach(u=>{d(f,a.run(()=>u({store:f,app:e._a,pinia:e,options:i})))}),g&&c&&s.hydrate&&s.hydrate(f.$state,g),h=!0,y=!0,f}function gt(t,o,s){let e,n;const c=typeof o=="function";typeof t=="string"?(e=t,n=c?s:o):(n=t,e=t.id);function a(i,_){const h=H();return i=i||h&&G(z),i&&T(i),i=q,i._s.has(e)||(c?M(e,o,n,i):mt(e,n,i)),i._s.get(e)}return a.$id=e,a}const St={TODO:"TODO"},wt={async getList(){return{total:1,records:[{key:"1",value:"keyword"}]}}};function xt(){return Math.random().toString(36).slice(2)}const kt=gt(St.TODO,{state:()=>({todoList:[]}),actions:{async fetchTodoList(){try{const{records:t}=await wt.getList();this.todoList=t}catch(t){console.log("error",t)}},addTodo(t){this.todoList.push({key:xt(),value:t})},delTodo(t){this.todoList=this.todoList.filter(o=>o.key!=t)}}}),Lt={class:"container mx-auto w-1/2 min-w-sm max-w-2xl shadow-xl"},jt={class:"mt-20"},Pt=["onKeyup"],Ot={class:"m-1"},Et=["onClick"],It=ut({__name:"index",setup(t){const o=kt(),s=F("");function e(n){!s.value||(o.addTodo(s.value),s.value="")}return at(()=>{o.fetchTodoList()}),(n,c)=>(C(),I("div",Lt,[j("div",jt,[it(j("input",{class:"h-40px w-full rounded-6px border border-gray-500 border-solid","onUpdate:modelValue":c[0]||(c[0]=a=>s.value=a),onKeyup:ft(e,["enter"]),placeholder:"enter to add"},null,40,Pt),[[lt,s.value,void 0,{trim:!0}]])]),j("div",Ot,[(C(!0),I(dt,null,ht(A(o).todoList,a=>(C(),I("div",{class:"h-40px p-2px flex items-center justify-between shadow shadow-gray-500 cursor-pointer mt-6",key:a.key},[j("div",null,yt(a.value),1),j("div",{class:"w-20px h-20px text-red-900 text-center border border-red-700 border-solid rounded-full leading-4",onClick:i=>A(o).delTodo(a.key)}," - ",8,Et)]))),128))])]))}});export{It as _,Ct as c};
